<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "SmartSuitCase - Travel Worry-Free" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body style="background: var(--color-bg); min-height: 100vh; color: var(--color-text); font-family: var(--font-body); margin: 0;">

    <nav style="position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: var(--color-card); border-bottom: 1px solid var(--color-border); padding: 14px 20px; display: flex; align-items: center; justify-content: space-between;">
      <%= link_to root_path, style: "display:flex; align-items:center; gap:10px; text-decoration:none;" do %>
        <svg width="28" height="28" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="10" y="24" width="52" height="38" rx="6" fill="#22263A" stroke="#C9A84C" stroke-width="1.5"/>
          <path d="M26 24V20C26 16.686 28.686 14 32 14H40C43.314 14 46 16.686 46 20V24" stroke="#C9A84C" stroke-width="1.5" stroke-linecap="round"/>
          <line x1="10" y1="43" x2="62" y2="43" stroke="#C9A84C" stroke-width="1"/>
          <circle cx="36" cy="33" r="3.5" fill="#3ECFB2"/>
          <rect x="8" y="38" width="4" height="8" rx="2" fill="#C9A84C"/>
          <rect x="60" y="38" width="4" height="8" rx="2" fill="#C9A84C"/>
        </svg>
        <span style="font-family: var(--font-display); font-size: 20px; color: #F0EEE8;">Smart<span style="font-style: italic; color: var(--color-primary);">SuitCase</span></span>
      <% end %>

      <% if user_signed_in? %>
        <div style="display:flex; align-items:center; gap:20px;">
          <%= link_to my_trips_path, style: "display:flex; align-items:center; gap:6px; text-decoration:none; color: var(--color-text-muted); font-size: 14px; font-weight: 600;" do %>
            <i class="bi bi-suitcase2" style="color: var(--color-primary);"></i> My Trips
          <% end %>
          <%= button_to destroy_user_session_path, method: :delete, style: "background:none; border:none; cursor:pointer; color: var(--color-text-muted); font-size: 14px; font-weight: 600; font-family: var(--font-body); display:flex; align-items:center; gap:6px;" do %>
            <i class="bi bi-box-arrow-right" style="color: var(--color-primary);"></i> Logout
          <% end %>
        </div>
      <% end %>
    </nav>

    <%= yield %>

  </body>
</html>
